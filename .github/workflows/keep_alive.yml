name: Keep Render Alive

on:
  schedule:
    # Render 免費方案主機只要 15 分鐘沒人存取就會睡眠
    # GitHub 免費方案的 cron 其實最快只有約 5-10 分鐘跑一次
    - cron: '*/5 * * * *'
  workflow_dispatch:

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: 進行高強度喚醒 (GET Request)
        run: |
          echo "正在以 GET 模式喚醒網站： https://institutional-tracker.onrender.com/health"
          # 使用 GET 請求並跟隨轉址，確保 Render 認定這是真實存取
          curl -s -L "https://institutional-tracker.onrender.com/health" > /dev/null
          echo "喚醒完成！"
